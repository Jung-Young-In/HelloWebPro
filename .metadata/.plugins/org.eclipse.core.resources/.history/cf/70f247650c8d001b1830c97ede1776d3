<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>Insert title here</title>
	<style type="text/css">
		div {
			background-color: #FFFFF0;
		}
		
		button {
			background-color: F5DEB3;
			border-radius: 7px;
			width: 60px;
			height: 30px;
		}
	</style>
	<script type="text/javascript">
	function send() {
		//validation 로직 들어가는 부분
// 		var result = validate();		//타당성 검증 부분은 따로 빼중(코드가 길어지고 유지보수에 용이하기 때문)
// 		if(!result) return;
		if(!validate())	return;
		
		//사용자 확인하는 부분
		if(!confirm("전송히시겠습니까?"))	return;	//true/false 값 반환
				
		//server 로직 들어가는 부분
	}
	
	/* 빈값 체크 */
	function isEmpty(str) {
		//빈값인 경우 
		if(str == null || str.trim().length == 0)
			return true;
		//빈값이 아닌 경우
		return false;
	}
	
	/* 공백 체크 */
	function hasBlank(str) {
		return str.match(" ");
	}
	
	/* 길이 체크 */
	function checkLength(str, min, max) {
		if(min == null && max == null){
			return false;
		
	} else if(min == null){
			if(str.length > max) return false;	//최대값만 존재하는 경우
			return false;
			
		
	} else if(max == null){
			if(str.length < min) return false;	//최소값만 존재하는 경우
			
		
	} else if(max != null || min != null){
				if(str.length < min || str.length > max) return false;	//최소값, 최대값이 둘다 존재하는 경우
		}
		return true;
	}		
	
	function checkRegExp(str, regExp) {
		return str.match(regExp);
	}
	
	function validate() {
		//아이디 검사
		//오류가 있을시 아이디 포커스, 해당 오류 메시지 부여
		var ele = document.getElementById("userId");
		var val = ele.value;
		
		//1.빈값체크
// 		if(val.trim().lengh == 0) {
		if(isEmpty(val)){
			alert("아이디는 필수입력 사항입니다.");
			ele.focus();
			return false;	//입력하지 않을 시 이후 계속 alert문구 발생
		}
		
		//2.공백체크
// 		var regExp = /[0-9a-zA-Zㄱ-ㅎ가-힣]*\s+[0-9a-zA-Zㄱ-ㅎ가-힣]*/;
// 		if(val.match(regExp)){
		if(hasBlank(val)){
			alert("아이디에 빈칸이 포함되어 있습니다. 빈칸은 입력하실 수 없습니다.");
			ele.focus();
			return false;
		}
		//3.길이체크(5~10글자)
// 		if(val.length < 5 || val.length > 10) {
		if(!checkLength(val, 5, 10)){
			alert("아이디는 5글자 이상, 10글자 이하로 작성하십시오.");
			ele.focus();
			return false;
		}
		//4.형식 체크(영문 소문자로 시작. 영문소문자 + 숫자 로 구성)
// 		regExp = /^[a-z][0-9a-z]*/;
// 		if(!val.match(regExp)) {
		if(checkRegExp(val, /^[a-z][0-9a-z]*/)){
			alert("입력한 아이디가 형식에 맞지 않습니다.\n영문 소문자로 시작하고, 영문소문자와 숫자의 조합으로만 입력하십시오.");
			ele.focus();
			return false;
		}
		//비밀번호 검사

		//유효성 검증 정상
		return true;
	}
	
// 		function validate() {
// 			var userId = document.getElementById("userId");
// 			var userPassword = document.getElementById("userPassword");
// 			var userName = document.getElementById("userName");
// 			var userBirth = document.getElementById("userBirth");
// 			var userPhone = document.getElementById("userPhone");
// 			var userEmail = document.getElementById("userEmail");
			
// 			//아이디 체크
// 			if(userId.value.trim().length == 0){
// 				alert("아이디가 입력되지 않았습니다.");
// 				userId.focus();
// 				return;
// 			}if (userId.value.length < 5 || userId.value.length > 10) {
// 				alert("아이디는 8~20의  문자로 작성하십시오.");
// 				userId.focus();
// 				return;
// 			}
			
// 			//비밀번호 체크
// 			if(userPassword.value.trim().length == 0){
// 				alert("비밀번호가 입력되지 않았습니다.");
// 				userPassword.focus();
// 				return;
// 			}if (userPassword.value.length < 8 || userPassword.value.length > 20) {
// 				alert("비밀번호는 8~20의  문자로 작성하십시오.");
// 				userPassword.focus();
// 				return;
// 			}
			
// 			//이름 체크
// 			if(userName.value.trim().length == 0){
// 				alert("이름이 입력되지 않았습니다.");
// 				userName.focus();
// 				return;
// 			}if (userName.value.length < 2 || userName.value.length > 5) {
// 				alert("이름은 2~5의  문자로 작성하십시오.");
// 				userName.focus();
// 				return;
// 			}
			
// 			//생일 체크
// 			if(userBirth.value.trim().length == 0){
// 				alert("생일이 입력되지 않았습니다.");
// 				userBirth.focus();
// 				return;
// 			}
			
// 			//휴대폰 체크
// 			userPhone = userPhone.replaceAll("-", "");
// 			if(userPhone.value.trim().length == 0){
// 				alert("휴대폰 번호가 입력되지 않았습니다.");
// 				userPhone.focus();
// 				return;
// 			}
			
// 			//이메일 체크
// 			if(userEmail.value.trim().length == 0){
// 				alert("이메일이 입력되지 않았습니다.");
// 				userEmail.focus();
// 				return;
// 			}
			
// 			var reg = /^[a-z0-9]{5,10}$/;
// 			var regE = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*.[a-zA-Z]{2,3}$/;
// 		}
	</script>
</head>
<body>
	<div>
		<form>
			<fieldset>
				<legend>회원정보입력</legend>
				아이디(5~10문자) : <input type="text" id="userId" title="아이디"><br>
				비밀번호 : <input type="password" id="userPassword" title="비밀번호"><br>
				이름 : <input type="text" id="userName" title="이름"><br>
				생년월일 : <input type="date" id="userBirth" title="생년월일"><br>
				휴대폰번호 : <input type="text" id="userPhone" title="휴대폰"><br>
				이메일 : <input type="email" id="userEmail" title="이메일"><br>
				<br>
				<button type="button" onclick="send()">전송</button>
				<button type="reset" style="margin-left: 20px;">취소</button>
			</fieldset>
		</form>
	</div>
</body>
</html>